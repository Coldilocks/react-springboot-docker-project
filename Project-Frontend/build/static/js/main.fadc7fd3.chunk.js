(this["webpackJsonpproject-frontend"]=this["webpackJsonpproject-frontend"]||[]).push([[0],{32:function(e,t,a){e.exports=a(66)},37:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(9),o=a.n(r),d=(a(37),a(26)),s=a(27),m=a(30),u=a(29),c=a(67),i=a(68),p=a(69),g=a(78),E=a(72),h=a(73),f=a(74),v=a(75),j=a(76),I=a(77),S=a(70),y=a(71),x=a(11),C=a.n(x),M=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).updateToggle=function(){n.setState((function(e){return{studentId:"",name:"",department:"",major:"",updateModal:!e.updateModal}}))},n.addToggle=function(){n.setState((function(e){return{studentId:"",name:"",department:"",major:"",addModal:!e.addModal}}))},n.addStudentWithAxios=function(e){e.preventDefault(),""!==n.state.studentId&&C.a.post("/api/v1/student",{studentId:n.state.studentId?n.state.studentId:"",name:n.state.name,department:n.state.department,major:n.state.major}).then((function(e){n.setState({studentId:"",name:"",department:"",major:""}),201===e.status&&alert("\u6dfb\u52a0\u6210\u529f!"),n.addToggle(),n.getStudentsWithAxios()}))},n.getStudentsWithAxios=function(){C.a.get("/api/v1/student").then((function(e){200===e.status&&n.setState({students:e.data}),console.log(e)}))},n.updateStudentWithAxios=function(e){e.preventDefault(),""!==n.state.studentId&&C.a.put("/api/v1/student",{studentId:n.state.studentId?n.state.studentId:"",name:n.state.name,department:n.state.department,major:n.state.major}).then((function(e){n.setState({studentId:"",name:"",department:"",major:""}),200===e.status?alert("\u66f4\u65b0\u6210\u529f!"):404===e.status&&alert("\u672a\u627e\u5230\u6b64\u5b66\u53f7"),n.updateToggle(),n.getStudentsWithAxios()}))},n.deleteStudent=function(e){window.confirm("\u786e\u8ba4\u5220\u9664\u5417?")&&fetch("/api/v1/student",{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:e.studentId})}).then((function(e){200===e.status&&alert("\u5220\u9664\u6210\u529f!"),n.getStudentsWithAxios()}))},n.state={studentId:"",name:"",department:"",major:"",students:[],updateModal:!1,addModal:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getStudentsWithAxios()}},{key:"render",value:function(){var e=this,t=l.a.createElement("button",{className:"close",onClick:this.updateToggle},"\xd7"),a=l.a.createElement("button",{className:"close",onClick:this.addToggle},"\xd7");return l.a.createElement(c.a,{className:"App"},l.a.createElement(i.a,null,l.a.createElement(p.a,null,l.a.createElement("h1",{style:{margin:"20px 0"}},"\u5b66\u751f\u4fe1\u606f"))),l.a.createElement(i.a,null,l.a.createElement(p.a,null,l.a.createElement(S.a,{responsive:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u5b66\u53f7 Student ID"),l.a.createElement("th",null,"\u59d3\u540d Name"),l.a.createElement("th",null,"\u9662\u7cfb Department"),l.a.createElement("th",null,"\u4e13\u4e1a Major"),l.a.createElement("th",null,"\u64cd\u4f5c Actions"))),l.a.createElement("tbody",null,this.state.students.map((function(a){return l.a.createElement("tr",{key:a.studentId},l.a.createElement("th",{scope:"row"},a.studentId),l.a.createElement("td",null,a.name),l.a.createElement("td",null,a.department),l.a.createElement("td",null,a.major),l.a.createElement("td",null,l.a.createElement("div",{style:{width:"110px"}},l.a.createElement(y.a,{color:"primary",onClick:function(t){e.setState({studentId:a.studentId,name:a.name,department:a.department,major:a.major,updateModal:!t.updateModal})},style:{float:"left",marginRight:"10px"}},"\u4fee\u6539"),l.a.createElement(g.a,{isOpen:e.state.updateModal,toggle:e.updateToggle,className:e.props.className},l.a.createElement(E.a,{toggle:e.updateToggle,close:t},"\u4fee\u6539\u5b66\u751f\u4fe1\u606f"),l.a.createElement(h.a,null,l.a.createElement(f.a,{onSubmit:e.updateStudentWithAxios},l.a.createElement(v.a,null,l.a.createElement(j.a,{for:"studentId"},"\u5b66\u53f7 Student ID"),l.a.createElement(I.a,{type:"text",id:"studentId",value:e.state.studentId,onChange:function(t){e.setState({studentId:t.target.value})},readOnly:!0})),l.a.createElement(v.a,null,l.a.createElement(j.a,{for:"name"},"\u59d3\u540d Name"),l.a.createElement(I.a,{type:"text",name:"name",id:"name",value:e.state.name,onChange:function(t){e.setState({name:t.target.value})}})),l.a.createElement(v.a,null,l.a.createElement(j.a,{for:"department"},"\u5b66\u9662 Department"),l.a.createElement(I.a,{type:"text",name:"department",id:"department",value:e.state.department,onChange:function(t){e.setState({department:t.target.value})}})),l.a.createElement(v.a,null,l.a.createElement(j.a,{for:"major"},"\u4e13\u4e1a Major"),l.a.createElement(I.a,{type:"text",name:"major",id:"major",value:e.state.major,onChange:function(t){e.setState({major:t.target.value})}})),l.a.createElement(y.a,{color:"primary"},"\u63d0\u4ea4"))))," ",l.a.createElement(y.a,{color:"danger",onClick:function(){return e.deleteStudent(a)}},"\u5220\u9664"))))})))))),l.a.createElement(i.a,null,l.a.createElement(p.a,null,l.a.createElement(y.a,{color:"success",onClick:this.addToggle,style:{float:"left",marginRight:"10px"}},"\u6dfb\u52a0"),l.a.createElement(g.a,{isOpen:this.state.addModal,toggle:this.addToggle,className:this.props.className},l.a.createElement(E.a,{toggle:this.addToggle,close:a},"\u6dfb\u52a0\u5b66\u751f\u4fe1\u606f"),l.a.createElement(h.a,null,l.a.createElement(f.a,{onSubmit:this.addStudentWithAxios},l.a.createElement(v.a,null,l.a.createElement(j.a,{for:"studentId"},"\u5b66\u53f7 Student ID"),l.a.createElement(I.a,{type:"text",id:"studentId",value:this.state.studentId,onChange:function(t){e.setState({studentId:t.target.value})}})),l.a.createElement(v.a,null,l.a.createElement(j.a,{for:"name"},"\u59d3\u540d Name"),l.a.createElement(I.a,{type:"text",name:"name",id:"name",value:this.state.name,onChange:function(t){e.setState({name:t.target.value})}})),l.a.createElement(v.a,null,l.a.createElement(j.a,{for:"department"},"\u5b66\u9662 Department"),l.a.createElement(I.a,{type:"text",name:"department",id:"department",value:this.state.department,onChange:function(t){e.setState({department:t.target.value})}})),l.a.createElement(v.a,null,l.a.createElement(j.a,{for:"major"},"\u4e13\u4e1a Major"),l.a.createElement(I.a,{type:"text",name:"major",id:"major",value:this.state.major,onChange:function(t){e.setState({major:t.target.value})}})),l.a.createElement(y.a,{color:"success"},"\u63d0\u4ea4")))))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(65);o.a.render(l.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.fadc7fd3.chunk.js.map